{"version":3,"sources":["auth/helpers.js","core/Layout.js","App.js","auth/Signup.js","auth/Google.js","auth/Facebook.js","auth/Signin.js","auth/Activate.js","core/Private.js","core/Admin.js","auth/PrivateRoute.js","auth/AdminRoute.js","auth/Forgot.js","auth/Reset.js","Routes.js","index.js"],"names":["getCookie","key","window","cookie","get","authenticate","response","next","value","console","log","data","token","set","expires","localStorage","setItem","JSON","stringify","setLocalStorage","user","isAuth","getItem","parse","signout","remove","removeItem","removeLocalStorage","updateUser","auth","withRouter","children","match","history","isActive","path","color","className","to","style","role","name","cursor","onClick","push","App","Signup","useState","email","password","buttonText","values","setValues","handleChange","event","target","clickSubmit","preventDefault","axios","method","url","process","then","toast","success","message","catch","error","onChange","type","Google","informParent","f","responseGoogle","tokenId","idToken","clientId","onSuccess","onFailure","render","renderProps","disabled","cookiePolicy","Facebook","appId","autoLoad","callback","userID","accessToken","Signin","Activate","show","useEffect","params","jwt","decode","Private","loadProfile","_id","headers","Authorization","status","defaultValue","Admin","PrivateRoute","Component","component","rest","props","pathname","state","from","location","AdminRoute","Forgot","passordForgotForm","Reset","newPassword","resetPasswordLink","placeholder","required","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3d06b596.chunk.js","sourcesContent":["import cookie from 'js-cookie';\r\n\r\n// set in cookie\r\nexport const setCookie = (key, value) => {\r\n    if (window !== 'undefined') {\r\n        cookie.set(key, value, {\r\n            expires: 1\r\n        });\r\n    }\r\n};\r\n\r\n// remove from cookie\r\nexport const removeCookie = (key) => {\r\n    if (window !== 'undefined') {\r\n        cookie.remove(key, {\r\n            expires: 1\r\n        })\r\n    }\r\n};\r\n\r\n// get from cookie such as stored token\r\n// will be useful when we need to make request to server with token\r\nexport const getCookie = (key) => {\r\n    if (window !== 'undefined') {\r\n        return cookie.get(key);\r\n    }\r\n};\r\n\r\n// set in localstorage\r\nexport const setLocalStorage = (key, value) => {\r\n    if (window !== 'undefined') {\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n    }\r\n};\r\n\r\n// remove from localstorage\r\nexport const removeLocalStorage = (key) => {\r\n    if (window !== 'undefined') {\r\n        localStorage.removeItem(key);\r\n    }\r\n};\r\n\r\n// authenticate user by passing data to cookie and localstorage during signin\r\nexport const authenticate = (response, next) => {\r\n    console.log('AUTHENTICATE HELPER ON SIGNIN RESPONSE', response);\r\n    setCookie('token', response.data.token);\r\n    setLocalStorage('user', response.data.user);\r\n    next();\r\n};\r\n\r\n// access user info from localstorage\r\nexport const isAuth = () => {\r\n    if (window !== 'undefined') {\r\n        const cookieChecked = getCookie('token');\r\n        if (cookieChecked) {\r\n            if (localStorage.getItem('user')) {\r\n                return JSON.parse(localStorage.getItem('user'));\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    removeCookie('token');\r\n    removeLocalStorage('user');\r\n    next();\r\n}\r\n\r\nexport const updateUser = (response, next) => {\r\n    console.log('UPDATE USER IN LOCALSTORAGE HELPERS', response)\r\n    if(typeof window !== 'undefined') {\r\n        let auth = JSON.parse(localStorage.getItem('user'))\r\n        auth = response.data\r\n        localStorage.setItem('user', JSON.stringify(auth));\r\n    }\r\n    next();\r\n}","import React, { Fragment } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { isAuth, signout } from '../auth/helpers';\r\n\r\nconst Layout = ({ children, match, history }) => {\r\n    const isActive = path => {\r\n        if(match.path === path) {\r\n            return { color: '#000' };\r\n        } else {\r\n            return { color: '#fff' };\r\n        }\r\n    }\r\n\r\n    const nav = () => (\r\n        <ul className=\"nav nav-tabs bg-primary\">\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/\" className=\"nav-link\" style={isActive('/')}>\r\n                    Home\r\n                </Link>\r\n            </li>\r\n            {!isAuth() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <Link to=\"/signin\" className=\"nav-link\" style={isActive('/signin')}>\r\n                            Signin\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link to=\"/signup\" className=\"nav-link\" style={isActive('/signup')}>\r\n                            Signup\r\n                        </Link>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n\r\n            {isAuth() && isAuth().role === 'admin' && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive('/admin')} to=\"/admin\">\r\n                        {isAuth().name}\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n            {isAuth() && isAuth().role === 'subscriber' && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive('/private')} to=\"/private\">\r\n                        {isAuth().name}\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n            {isAuth() && (\r\n                <li className=\"nav-item\">\r\n                    <span\r\n                        className=\"nav-link\"\r\n                        style={{\r\n                            cursor: 'pointer',\r\n                            color: '#fff',\r\n                        }}\r\n                        onClick={() => {\r\n                            signout(() => {\r\n                                history.push('/')\r\n                            });\r\n                        }}\r\n                    >\r\n                        Signout\r\n                    </span>\r\n                </li>\r\n            )}\r\n        </ul>\r\n    );\r\n\r\n    return (\r\n        <Fragment>\r\n            {nav()}\r\n            <div className=\"container\">\r\n                {children}\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default withRouter(Layout);\r\n","import React from 'react';\nimport Layout from './core/Layout';\n\nconst App = () => {\n  return (\n    <Layout>\n      <div className=\"col-md-6 offset-md-3 text-center\">\n        <h1 className=\"p-5\">Ultimate Authentication</h1>\n        <h2>MERN Stack</h2>\n        <hr />\n        <p className=\"lead\">\n          Learn MERN stack web development by building production ready login register system with account activation, forgot password, reset password, login with facebook, login with google as well as ACL by implementing private and protected routes for authenticated user and users with the role of admin.\n        </p>\n      </div>\n    </Layout>\n  )\n}\n\nexport default App;\n","import React, {useState} from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { isAuth } from './helpers';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Signup = () => {\r\n    const [values, setValues] = useState({\r\n        name: 'Abbas',\r\n        email: 'abbasghayth5@gmail.com',\r\n        password: 'sa123',\r\n        buttonText: 'Submit',\r\n    });\r\n\r\n    const {name, email, password, buttonText} = values;\r\n\r\n    const handleChange = (name) => (event) => {\r\n        //console.log(event.target.value);\r\n        setValues({...values, [name]: event.target.value});\r\n    }\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault()\r\n        setValues({...values, buttonText: 'Submitting'});\r\n        axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API}/signup`,\r\n            data: {name, email, password}\r\n        })\r\n        .then(response => {\r\n            console.log('SIGNUP SUCCESS', response);\r\n            setValues({...values, name: '', email: '', password: '', buttonText: 'Submitted'});\r\n            toast.success(response.data.message);\r\n        })\r\n        .catch(error => {\r\n            console.log('SIGNUP ERROR', error.response.data);\r\n            setValues({...values, buttonText: 'Submit'});\r\n            toast.error(error.response.data.error);\r\n        })\r\n    }\r\n    \r\n    const signupForm = () => (\r\n        <form>\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Name</label>\r\n                <input onChange={handleChange('name')} value={name} type=\"text\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Email</label>\r\n                <input onChange={handleChange('email')} value={email} type=\"email\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Password</label>\r\n                <input onChange={handleChange('password')} value={password} type=\"password\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n                    {buttonText}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                {isAuth() ? <Redirect to=\"/\" /> : null}\r\n                <h1 className=\"p-5 text-center\">Signup</h1>\r\n                {signupForm()}\r\n                <br />\r\n                <Link to=\"/auth/password/forgot\" className=\"btn btn-sm btn-outline-danger\">\r\n                    Forgot Password\r\n                </Link>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Signup;","import React from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\nimport axios from 'axios';\r\n\r\nconst Google = ({ informParent = f => f }) => {\r\n    const responseGoogle = (response) => {\r\n        console.log(response.tokenId);\r\n        axios({\r\n            method: 'POST',\r\n            url:  `${process.env.REACT_APP_API}/google-login`,\r\n            data: { idToken: response.tokenId }\r\n        })\r\n        .then(response => {\r\n            console.log('GOOGLE SIGNIN SUCCESS', response)\r\n            // inform parent component\r\n            informParent(response);\r\n        })\r\n        .catch(error => {\r\n            console.log('GOOGLE SIGNIN ERROR', error.response)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"row mb-3\">\r\n            <div className=\"d-grid\">\r\n                <GoogleLogin\r\n                    clientId={`${process.env.REACT_APP_GOOGLE_CLIENT_ID}`}\r\n                    onSuccess={responseGoogle}\r\n                    onFailure={responseGoogle}\r\n                    render={renderProps => (\r\n                        <button\r\n                            onClick={renderProps.onClick}\r\n                            disabled={renderProps.disabled}\r\n                            className=\"btn btn-large btn-danger btn-block\"\r\n                        >\r\n                            <i className=\"fab fa-google pr-2\"></i> Login with Google\r\n                        </button>\r\n                    )}\r\n                    cookiePolicy={'single_host_origin'}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Google;","import React from 'react';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\r\nimport axios from 'axios';\r\n\r\nconst Facebook = ({ informParent = f => f }) => {\r\n    const responseFacebook = (response) => {\r\n        console.log(response);\r\n        axios({\r\n            method: 'POST',\r\n            url:  `${process.env.REACT_APP_API}/facebook-login`,\r\n            data: { userID: response.userID, accessToken: response.accessToken }\r\n        })\r\n        .then(response => {\r\n            console.log('FACEBOOK SIGNIN SUCCESS', response)\r\n            // inform parent component\r\n            informParent(response);\r\n        })\r\n        .catch(error => {\r\n            console.log('FACEBOOK SIGNIN ERROR', error.response)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"row mb-3\">\r\n            <div className=\"d-grid\">\r\n                <FacebookLogin\r\n                    appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\r\n                    autoLoad={false}\r\n                    callback={responseFacebook}\r\n                    render={renderProps => (\r\n                        <button onClick={renderProps.onClick} className=\"btn btn-large btn-primary btn-block\">\r\n                            <i className=\"fab fa-facebook pr-2\"></i> Login with Facebook\r\n                        </button>\r\n                    )}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Facebook;","import React, {useState} from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { authenticate, isAuth } from './helpers';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport Google from './Google';\r\nimport Facebook from './Facebook';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Signin = ({ history }) => {\r\n    const [values, setValues] = useState({\r\n        email: 'abbasghayth5@gmail.com',\r\n        password: 'sa12345',\r\n        buttonText: 'Submit',\r\n    });\r\n\r\n    const { email, password, buttonText } = values;\r\n\r\n    const handleChange = (name) => (event) => {\r\n        //console.log(event.target.value);\r\n        setValues({...values, [name]: event.target.value});\r\n    }\r\n\r\n    const informParent = response => {\r\n        authenticate(response, () => {\r\n            isAuth() && isAuth().role === 'admin' ? history.push('/admin') : history.push('/private');\r\n        })\r\n    }\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault()\r\n        setValues({...values, buttonText: 'Submitting'});\r\n        axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API}/signin`,\r\n            data: { email, password }\r\n        })\r\n        .then(response => {\r\n            console.log('SIGNIN SUCCESS', response);\r\n            // save the response (user, token) localstorage/cookie\r\n            authenticate(response, () => {\r\n                setValues({...values, name: '', email: '', password: '', buttonText: 'Submitted'});\r\n                // toast.success(`Hey ${response.data.user.name}, Welcome back!`);\r\n                isAuth() && isAuth().role === 'admin' ? history.push('/admin') : history.push('/private');\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log('SIGNIN ERROR', error.response.data);\r\n            setValues({...values, buttonText: 'Submit'});\r\n            toast.error(error.response.data.error);\r\n        })\r\n    }\r\n    \r\n    const signinForm = () => (\r\n        <form>\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Email</label>\r\n                <input onChange={handleChange('email')} value={email} type=\"email\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Password</label>\r\n                <input onChange={handleChange('password')} value={password} type=\"password\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n                    {buttonText}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                {isAuth() ? <Redirect to=\"/\" /> : null}\r\n                <h1 className=\"p-5 text-center\">Signin</h1>\r\n                <Google informParent={informParent} />\r\n                <Facebook informParent={informParent} />\r\n                {signinForm()}\r\n                <br />\r\n                <Link to=\"/auth/password/forgot\" className=\"btn btn-sm btn-outline-danger\">\r\n                    Forgot Password\r\n                </Link>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Signin;","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport jwt from 'jsonwebtoken';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Activate = ({match}) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        token: '',\r\n        show: true,\r\n    });\r\n\r\n    useEffect(() => {\r\n        let token = match.params.token;\r\n        let {name} = jwt.decode(token);\r\n        // console.log(token)\r\n        if(token) {\r\n            setValues({ ...values, name, token });\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    const { name, token } = values;\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API}/account-activation`,\r\n            data: { token }\r\n        })\r\n        .then(response => {\r\n            console.log('ACCOUNT ACTIVATION', response);\r\n            setValues({...values, show: false });\r\n            toast.success(response.data.message);\r\n        })\r\n        .catch(error => {\r\n            console.log('ACCOUNT ACTIVATION ERROR', error.response.data.error);\r\n            toast.error(error.response.data.error);\r\n        });\r\n    }\r\n\r\n    const activationLink = () => (\r\n        <div className=\"text-center\">\r\n            <h1 className=\"p-5\">Hey {name}, Ready to activate your account</h1>\r\n            <button className=\"btn btn-outline-primary\" onClick={clickSubmit}>Activate Account</button>\r\n        </div>\r\n    )\r\n    \r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                {activationLink()}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Activate;","import React, {useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { isAuth, getCookie, signout, updateUser } from '../auth/helpers';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Private = ({history}) => {\r\n    const [values, setValues] = useState({\r\n        role: '',\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        buttonText: 'Submit',\r\n    });\r\n\r\n    const token = getCookie('token');\r\n\r\n    useEffect(() => {\r\n        loadProfile()\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const loadProfile = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            console.log('PRIVATE PROFILE UPDATE', response);\r\n            const {role, name, email} = response.data\r\n            setValues({...values, role, name, email})\r\n        })\r\n        .catch(error => {\r\n            console.log('PRIVATE PROFILE UPDATE ERROR', error.response.data.error)\r\n            if(error.response.status === 401) {\r\n                signout(() => {\r\n                    history.push('/');\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    const {role, name, email, password, buttonText} = values;\r\n\r\n    const handleChange = (name) => (event) => {\r\n        //console.log(event.target.value);\r\n        setValues({...values, [name]: event.target.value});\r\n    }\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault()\r\n        setValues({...values, buttonText: 'Submitting'});\r\n        axios({\r\n            method: 'PUT',\r\n            url: `${process.env.REACT_APP_API}/user/update`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            data: {name, password},\r\n        })\r\n        .then(response => {\r\n            console.log('PRIVATE PROFILE UPDATE SUCCESS', response);\r\n            updateUser(response, () => {\r\n                setValues({...values, buttonText: 'Submitted'});\r\n                toast.success('Profile updated successfully');\r\n            });\r\n        })\r\n        .catch(error => {\r\n            console.log('PRIVATE PROFILE UPDATE ERROR', error.response.data.error);\r\n            setValues({...values, buttonText: 'Submit'});\r\n            toast.error(error.response.data.error);\r\n        })\r\n    }\r\n    \r\n    const updateForm = () => (\r\n        <form>\r\n            <div className=\"mb-3 form-group\">\r\n                <label className=\"form-label\">Role</label>\r\n                <input defaultValue={role} type=\"text\" className=\"form-control\" disabled />\r\n            </div>\r\n            <div className=\"mb-3 form-group\">\r\n                <label className=\"form-label\">Name</label>\r\n                <input onChange={handleChange('name')} value={name} type=\"text\" className=\"form-control\" />\r\n            </div>\r\n            <div className=\"mb-3 form-group\">\r\n                <label className=\"form-label\">Email</label>\r\n                <input defaultValue={email} type=\"email\" className=\"form-control\" disabled />\r\n            </div>\r\n\r\n            <div className=\"mb-3 form-group\">\r\n                <label className=\"form-label\">Password</label>\r\n                <input onChange={handleChange('password')} value={password} type=\"password\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n                    {buttonText}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                <h1 className=\"pt-4 text-center\">Private</h1>\r\n                <p className=\"lead text-center\">Profile update</p>\r\n                {updateForm()}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Private;\r\n","import React, {useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { isAuth, getCookie, signout, updateUser } from '../auth/helpers';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Admin = ({history}) => {\r\n    const [values, setValues] = useState({\r\n        role: '',\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        buttonText: 'Submit',\r\n    });\r\n\r\n    const token = getCookie('token');\r\n\r\n    useEffect(() => {\r\n        loadProfile()\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const loadProfile = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: `${process.env.REACT_APP_API}/user/${isAuth()._id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            console.log('PRIVATE PROFILE UPDATE', response);\r\n            const {role, name, email} = response.data\r\n            setValues({...values, role, name, email})\r\n        })\r\n        .catch(error => {\r\n            console.log('PRIVATE PROFILE UPDATE ERROR', error.response.data.error)\r\n            if(error.response.status === 401) {\r\n                signout(() => {\r\n                    history.push('/');\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    const {role, name, email, password, buttonText} = values;\r\n\r\n    const handleChange = (name) => (event) => {\r\n        //console.log(event.target.value);\r\n        setValues({...values, [name]: event.target.value});\r\n    }\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault()\r\n        setValues({...values, buttonText: 'Submitting'});\r\n        axios({\r\n            method: 'PUT',\r\n            url: `${process.env.REACT_APP_API}/admin/update`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            data: {name, password},\r\n        })\r\n        .then(response => {\r\n            console.log('PRIVATE PROFILE UPDATE SUCCESS', response);\r\n            updateUser(response, () => {\r\n                setValues({...values, buttonText: 'Submitted'});\r\n                toast.success('Profile updated successfully');\r\n            });\r\n        })\r\n        .catch(error => {\r\n            console.log('PRIVATE PROFILE UPDATE ERROR', error.response.data.error);\r\n            setValues({...values, buttonText: 'Submit'});\r\n            toast.error(error.response.data.error);\r\n        })\r\n    }\r\n    \r\n    const updateForm = () => (\r\n        <form>\r\n            <div className=\"mb-3 form-group\">\r\n                <label className=\"form-label\">Role</label>\r\n                <input defaultValue={role} type=\"text\" className=\"form-control\" disabled />\r\n            </div>\r\n            <div className=\"mb-3 form-group\">\r\n                <label className=\"form-label\">Name</label>\r\n                <input onChange={handleChange('name')} value={name} type=\"text\" className=\"form-control\" />\r\n            </div>\r\n            <div className=\"mb-3 form-group\">\r\n                <label className=\"form-label\">Email</label>\r\n                <input defaultValue={email} type=\"email\" className=\"form-control\" disabled />\r\n            </div>\r\n\r\n            <div className=\"mb-3 form-group\">\r\n                <label className=\"form-label\">Password</label>\r\n                <input onChange={handleChange('password')} value={password} type=\"password\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n                    {buttonText}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                <h1 className=\"pt-4 text-center\">Admin</h1>\r\n                <p className=\"lead text-center\">Profile update</p>\r\n                {updateForm()}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Admin;\r\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {isAuth} from './helpers';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={\r\n            props => isAuth() ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: '/signin',\r\n                        state: { from:props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    >\r\n    </Route>\r\n)\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {isAuth} from './helpers';\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            isAuth() && isAuth().role === 'admin' ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: '/signin',\r\n                        state: { from:props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    >\r\n    </Route>\r\n)\r\n\r\nexport default AdminRoute;","import React, {useState} from 'react';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Forgot = ({ history }) => {\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        buttonText: 'Request password reset link',\r\n    });\r\n\r\n    const { email, buttonText } = values;\r\n\r\n    const handleChange = (name) => (event) => {\r\n        //console.log(event.target.value);\r\n        setValues({...values, [name]: event.target.value});\r\n    }\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault()\r\n        setValues({...values, buttonText: 'Submitting'});\r\n        // console.log('send request');\r\n        axios({\r\n            method: 'PUT',\r\n            url: `${process.env.REACT_APP_API}/forgot-password`,\r\n            data: { email }\r\n        })\r\n        .then(response => {\r\n            console.log('FORGOT PASSWORD SUCCESS', response);\r\n            toast.success(response.data.message)\r\n            setValues({...values, buttonText: 'Requested'})\r\n        })\r\n        .catch(error => {\r\n            console.log('FORGOT PASSWORD ERROR', error.response.data);\r\n            toast.error(error.response.data.error);\r\n            setValues({...values, buttonText: 'Request password reset link'});\r\n        })\r\n    }\r\n    \r\n    const passordForgotForm = () => (\r\n        <form>\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Email</label>\r\n                <input onChange={handleChange('email')} value={email} type=\"email\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n                    {buttonText}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                <h1 className=\"p-5 text-center\">Forgot password</h1>\r\n                {passordForgotForm()}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Forgot;","import React, { useState, useEffect } from 'react';\r\nimport jwt from 'jsonwebtoken';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Reset = ({ match }) => {\r\n    // props.match from react router dom\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        token: '',\r\n        newPassword: '',\r\n        buttonText: 'Reset password'\r\n    });\r\n\r\n    useEffect(() => {\r\n        let token = match.params.token;\r\n        let { name } = jwt.decode(token);\r\n        // console.log(name);\r\n        if (token) {\r\n            setValues({ ...values, name, token });\r\n        }\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const { name, token, newPassword, buttonText } = values;\r\n\r\n    const handleChange = event => {\r\n        setValues({ ...values, newPassword: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, buttonText: 'Submitting' });\r\n        axios({\r\n            method: 'PUT',\r\n            url: `${process.env.REACT_APP_API}/reset-password`,\r\n            data: { newPassword, resetPasswordLink: token }\r\n        })\r\n            .then(response => {\r\n                console.log('RESET PASSWORD SUCCESS', response);\r\n                toast.success(response.data.message);\r\n                setValues({ ...values, buttonText: 'Done' });\r\n            })\r\n            .catch(error => {\r\n                console.log('RESET PASSWORD ERROR', error.response.data);\r\n                toast.error(error.response.data.error);\r\n                setValues({ ...values, buttonText: 'Reset password' });\r\n            });\r\n    };\r\n\r\n    const passwordResetForm = () => (\r\n        <form>\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Password</label>\r\n                <input\r\n                    onChange={handleChange}\r\n                    value={newPassword}\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Type new password\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n                    {buttonText}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                <h1 className=\"p-5 text-center\">Hey {name}, Type your new password</h1>\r\n                {passwordResetForm()}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Reset;\r\n","import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\nimport App from './App';\r\nimport Signup from './auth/Signup';\r\nimport Signin from './auth/Signin';\r\nimport Activate from './auth/Activate';\r\nimport Private from './core/Private';\r\nimport Admin from './core/Admin';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport AdminRoute from './auth/AdminRoute';\r\nimport Forgot from './auth/Forgot';\r\nimport Reset from './auth/Reset';\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={App} />\r\n                <Route path=\"/signup\" exact component={Signup} />\r\n                <Route path=\"/signin\" exact component={Signin} />\r\n                <Route path=\"/auth/activate/:token\" exact component={Activate} />\r\n                <PrivateRoute path=\"/private\" exact component={Private} />\r\n                <AdminRoute path=\"/admin\" exact component={Admin} />\r\n                <Route path=\"/auth/password/forgot\" exact component={Forgot} />\r\n                <Route path=\"/auth/password/reset/:token\" exact component={Reset} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './Routes';\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n"],"sourceRoot":""}